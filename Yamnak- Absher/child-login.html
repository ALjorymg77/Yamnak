<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø·ÙÙ„</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <button class="back-btn" onclick="goToHome()">âœ•</button>
            <h1 class="app-title">Absher Yamnak</h1>
            <button class="menu-btn">â‹¯</button>
        </header>

        <!-- Child Login Card -->
        <div class="login-wrapper">
            <div class="login-card">
                <div class="child-icon">ğŸ‘¦</div>
                
                <h2 class="login-title">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø·ÙÙ„</h2>
                <p class="login-subtitle">Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ©</p>

                <div class="input-group">
                    <input type="text" id="childId" class="login-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©" maxlength="10">
                    <span class="input-icon">ğŸ†”</span>
                </div>

                <div class="input-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</div>
                <div class="input-group">
                    <input type="password" id="childPassword" class="login-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                </div>

                <button class="login-btn" onclick="handleChildLogin()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>

                <p class="error-msg" id="errorMsg"></p>

                <button class="back-to-parent" onclick="goToHome()">
                    Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±
                </button>
            </div>
        </div>
    </div>

    <script src="database.js"></script>
    <script>
        function handleChildLogin() {
            const childId = document.getElementById('childId').value.trim();
            const password = document.getElementById('childPassword').value;
            const errorMsg = document.getElementById('errorMsg');

            if (!childId || !password) {
                errorMsg.textContent = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±';
                return;
            }

            const child = findChildById(childId);
            if (child) {
                localStorage.setItem('currentChild', JSON.stringify(child));
                window.location.href = 'child-profile.html';
            } else {
                errorMsg.textContent = 'Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…';
            }
        }

        function goToHome() {
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
